<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>FrontConsole Demo</title>
	<link rel="stylesheet" href="demo.css">
	<link rel="stylesheet" href="../dist/frontconsole.css">
</head>
<body>
<img src="background.png" alt="">

<script src="../dist/frontconsole.js"></script>
<script>
	function process() {
		return {
			"aaa": 22,
			"ss": 4,
			"arr": ['dsada', "dsadsada", '222', {"aaa": 22, "ss": 4}]
		}
	}

	function add(args, shortFlags, longFlags) {
		if (args.length < 2) {
			throw "At least 2 arguments required";
		}
		if (shortFlags['a'] || longFlags['all']) {
			return args.reduce((total, number) => total + number);
		} else if (longFlags['limit']){
			return args.slice(0, longFlags['limit']).reduce((total, number) => total + number);
		} else {
			return args[0] + args[1];
		}
	}

	function promiseme() {
		return new Promise((resolve) => {
			setTimeout(function () {
				resolve(['from resolved promise', "dsadsada", '222', {"aaa": 22, "ss": 4}]);
			}, 2000)
		})
	}

	function rejectme() {
		return new Promise((resolve, reject) => {
			setTimeout(function () {
				reject("from reject promise");
			}, 2000)
		})
	}

	function echo(args) {
		if (args.length) {
			return args.reduce((a, b) => `${a}; ${b}`)
		} else {
			throw "Echo needs at least one parameter"
		}
	}

	const config = {
		shortcutActivator: "ctrl",
		// shortcutKeyCode: 220,
		// convertTypes: false,
	};

	const translation = {
		"err.cmdNotFound": "Command was not found (demo Setting)"
	};

	const tasks = {
		"process": {
			cmd: () => process(),
			desc: "Processes something",
		},
		"echo": {
			cmd: (args) => echo(args),
			desc: "Returns provided parameters"
		},
		"add": {
			cmd: (args, shortFlags, longFlags) => add(args, shortFlags, longFlags),
			desc: "Simply sums numbers passed as parameters"
		},
		"promiseme": {
			cmd: () => promiseme(),
			desc: "returns promise (fullfilled)"
		},
		"rejectme": {
			cmd: () => rejectme(),
			desc: "returns promise (rejected)"
		},
	};
	var fc = FrontConsole.default(tasks, config, translation);
	console.log(fc);
</script>

</body>
</html>
